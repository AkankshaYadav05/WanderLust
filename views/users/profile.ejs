<% layout("/layouts/boilerplate") %>

<style>
    /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Page Navigation */
        .page-nav {
            background: white;
            margin: 2rem 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 20px rgba(0,0,0,0.08);
        }

        .nav-tabs {
            display: flex;
            background: #f8f9fa;
        }

        .nav-tab {
            flex: 1;
            padding: 1.2rem 2rem;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-tab.active {
            background: white;
            color: #fe424d;
        }

        .nav-tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: #fe424d;
        }

        .nav-tab:hover:not(.active) {
            background: #e9ecef;
            color: #333;
        }

        /* Tab Content */
        .tab-content {
            display: none;
            padding: 2rem;
            animation: slideIn 0.4s ease-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

</style>


<!-- Profile Page -->
        <div id="profilePage" class="page-content">
            <!-- Profile Navigation -->
            <div class="page-nav">
                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="showProfileTab('myprofile')">My Profile</button>
                    <button class="nav-tab" onclick="showProfileTab('bookings')">My Bookings</button>
                    <button class="nav-tab" onclick="showProfileTab('wishlist')">Wishlist</button>
                </div>

                <!-- My Profile Tab -->
                <div id="myprofile" class="tab-content active">
                    <div class="profile-card">
                        <div class="profile-header">
                            <div class="profile-avatar" id="profileAvatar" onclick="changeAvatar()">AY</div>
                            <div class="profile-info">
                                <h2 id="profileName">Akanksha Yadav</h2>
                                <p id="profileEmail">akanksha@wanderlust.com</p>
                                <p>üåü Verified User ‚Ä¢ Member since 2023</p>
                                <div class="profile-stats">
                                    <div class="stat-item">
                                        <div class="stat-number">12</div>
                                        <div class="stat-label">Trips</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-number">4.9</div>
                                        <div class="stat-label">Rating</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-number">8</div>
                                        <div class="stat-label">Reviews</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <form id="profileForm">
                            <div class="booking-form">
                                <div class="form-group">
                                    <label for="firstName">First Name</label>
                                    <input type="text" id="firstName" class="form-control" value="Akanksha" required>
                                </div>
                                <div class="form-group">
                                    <label for="lastName">Last Name</label>
                                    <input type="text" id="lastName" class="form-control" value="Yadav" required>
                                </div>
                                <div class="form-group">
                                    <label for="email">Email</label>
                                    <input type="email" id="email" class="form-control" value="akanksha@wanderlust.com" required>
                                </div>
                                <div class="form-group">
                                    <label for="phone">Phone Number</label>
                                    <input type="tel" id="phone" class="form-control" value="+91 98765 43210">
                                </div>
                                <div class="form-group">
                                    <label for="location">Location</label>
                                    <input type="text" id="location" class="form-control" value="Mumbai, India">
                                </div>
                                <div class="form-group">
                                    <label for="language">Preferred Language</label>
                                    <select id="language" class="form-control">
                                        <option value="en">English</option>
                                        <option value="hi">Hindi</option>
                                        <option value="es">Spanish</option>
                                        <option value="fr">French</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="bio">About Me</label>
                                <textarea id="bio" class="form-control" rows="4" placeholder="Tell us about yourself...">I love traveling and exploring new places! Always excited to meet fellow travelers and discover hidden gems around the world.</textarea>
                            </div>
                            <button type="submit" class="btn btn-primary interactive-btn">Update Profile</button>
                        </form>
                    </div>
                </div>

                <!-- My Bookings Tab -->
                <div id="bookings" class="tab-content">
                    <div class="bookings-grid">
                        <div class="booking-card" onclick="viewBookingDetails('WL2024001')">
                            <div class="booking-header">
                                <div class="booking-title">Beachfront Paradise</div>
                                <div class="booking-status status-confirmed">Confirmed</div>
                            </div>
                            <div class="booking-details">
                                <div class="detail-item">
                                    <div class="detail-label">Dates</div>
                                    <div class="detail-value">March 15-20, 2025</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Location</div>
                                    <div class="detail-value">Cancun, Mexico</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Guests</div>
                                    <div class="detail-value">2 Adults</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Total</div>
                                    <div class="detail-value">‚Çπ12,600</div>
                                </div>
                            </div>
                            <div style="margin-top: 1rem; color: #666; font-size: 0.9rem;">
                                Booking ID: WL2024001
                            </div>
                        </div>

                        <div class="booking-card" onclick="viewBookingDetails('WL2024002')">
                            <div class="booking-header">
                                <div class="booking-title">Mountain Retreat</div>
                                <div class="booking-status status-pending">Pending</div>
                            </div>
                            <div class="booking-details">
                                <div class="detail-item">
                                    <div class="detail-label">Dates</div>
                                    <div class="detail-value">April 5-8, 2025</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Location</div>
                                    <div class="detail-value">Shimla, India</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Guests</div>
                                    <div class="detail-value">4 Adults</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Total</div>
                                    <div class="detail-value">‚Çπ9,000</div>
                                </div>
                            </div>
                            <div style="margin-top: 1rem; color: #666; font-size: 0.9rem;">
                                Booking ID: WL2024002
                            </div>
                        </div>

                        <div class="booking-card" onclick="viewBookingDetails('WL2024003')">
                            <div class="booking-header">
                                <div class="booking-title">Historic Villa in Tuscany</div>
                                <div class="booking-status status-cancelled">Cancelled</div>
                            </div>
                            <div class="booking-details">
                                <div class="detail-item">
                                    <div class="detail-label">Dates</div>
                                    <div class="detail-value">February 10-15, 2025</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Location</div>
                                    <div class="detail-value">Tuscany, Italy</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Guests</div>
                                    <div class="detail-value">2 Adults</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Refund</div>
                                    <div class="detail-value">‚Çπ18,000</div>
                                </div>
                            </div>
                            <div style="margin-top: 1rem; color: #666; font-size: 0.9rem;">
                                Booking ID: WL2024003
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Wishlist Tab -->
                <div id="wishlist" class="tab-content">
                    <div class="wishlist-grid">
                        <div class="wishlist-item" onclick="viewProperty('luxury-penthouse')">
                            <div class="wishlist-image">
                                <div class="wishlist-heart" onclick="removeFromWishlist(event, 'luxury-penthouse')">‚ù§Ô∏è</div>
                                üèôÔ∏è Luxury Penthouse
                            </div>
                            <div class="wishlist-content">
                                <div class="wishlist-title">Luxury Penthouse with City Views</div>
                                <div class="wishlist-location">üìç New York, USA</div>
                                <div class="wishlist-price">‚Çπ8,500 /night</div>
                            </div>
                        </div>

                        <div class="wishlist-item" onclick="viewProperty('cozy-cabin')">
                            <div class="wishlist-image" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%)">
                                <div class="wishlist-heart" onclick="removeFromWishlist(event, 'cozy-cabin')">‚ù§Ô∏è</div>
                                üèîÔ∏è Cozy Cabin
                            </div>
                            <div class="wishlist-content">
                                <div class="wishlist-title">Cozy Mountain Cabin</div>
                                <div class="wishlist-location">üìç Manali, India</div>
                                <div class="wishlist-price">‚Çπ3,200 /night</div>
                            </div>
                        </div>

                        <div class="wishlist-item" onclick="viewProperty('beach-resort')">
                            <div class="wishlist-image" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)">
                                <div class="wishlist-heart" onclick="removeFromWishlist(event, 'beach-resort')">‚ù§Ô∏è</div>
                                üèñÔ∏è Beach Resort
                            </div>
                            <div class="wishlist-content">
                                <div class="wishlist-title">Luxury Beach Resort</div>
                                <div class="wishlist-location">üìç Goa, India</div>
                                <div class="wishlist-price">‚Çπ4,800 /night</div>
                            </div>
                        </div>

                        <div class="wishlist-item" onclick="viewProperty('desert-villa')">
                            <div class="wishlist-image" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%)">
                                <div class="wishlist-heart" onclick="removeFromWishlist(event, 'desert-villa')">‚ù§Ô∏è</div>
                                üèúÔ∏è Desert Villa
                            </div>
                            <div class="wishlist-content">
                                <div class="wishlist-title">Desert Oasis Villa</div>
                                <div class="wishlist-location">üìç Jaisalmer, India</div>
                                <div class="wishlist-price">‚Çπ5,600 /night</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <script>

        // Global variables
        const basePrice = 2100;
        let currentPage = 'show';

        // Page navigation
        function showPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            if (pageName === 'show') {
                document.getElementById('showPage').classList.add('active');
            } else if (pageName === 'booking') {
                document.getElementById('bookingPage').classList.add('active');
            } else if (pageName === 'profile') {
                document.getElementById('profilePage').classList.add('active');
            }
            
            currentPage = pageName;
        }

        // Profile tab navigation
        function showProfileTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
        }

        
        // Profile form submission
        document.getElementById('profileForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Update profile display
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const email = document.getElementById('email').value;
            
            document.getElementById('profileName').textContent = `${firstName} ${lastName}`;
            document.getElementById('profileEmail').textContent = email;
            document.getElementById('profileAvatar').textContent = firstName.charAt(0) + lastName.charAt(0);
            
            // Show success feedback
            const originalText = e.target.querySelector('button').textContent;
            e.target.querySelector('button').textContent = '‚úì Updated!';
            e.target.querySelector('button').style.background = '#28a745';
            
            setTimeout(() => {
                e.target.querySelector('button').textContent = originalText;
                e.target.querySelector('button').style.background = '#fe424d';
            }, 2000);
        });

        // Interactive functions
        function changeAvatar() {
            const colors = [
                'linear-gradient(135deg, #fe424d, #ff6b8a)',
                'linear-gradient(135deg, #667eea, #764ba2)',
                'linear-gradient(135deg, #f093fb, #f5576c)',
                'linear-gradient(135deg, #4facfe, #00f2fe)',
                'linear-gradient(135deg, #fa709a, #fee140)'
            ];
            
            const avatar = document.getElementById('profileAvatar');
            const currentColor = avatar.style.background;
            let newColor;
            
            do {
                newColor = colors[Math.floor(Math.random() * colors.length)];
            } while (newColor === currentColor);
            
            avatar.style.background = newColor;
            avatar.style.transform = 'scale(1.1)';
            
            setTimeout(() => {
                avatar.style.transform = 'scale(1)';
            }, 200);
        }

        function viewBookingDetails(bookingId) {
            alert(`Viewing details for booking: ${bookingId}\n\nThis would typically open a detailed view with booking information, cancellation options, and contact host features.`);
        }

        function viewProperty(propertyId) {
            alert(`Opening property: ${propertyId}\n\nThis would typically redirect to the property details page.`);
        }

        function removeFromWishlist(event, propertyId) {
            event.stopPropagation(); // Prevent card click
            
            if (confirm('Remove this property from your wishlist?')) {
                const card = event.target.closest('.wishlist-item');
                card.style.transform = 'scale(0.8)';
                card.style.opacity = '0.5';
                
                setTimeout(() => {
                    card.remove();
                }, 300);
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Set today as minimum date
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('checkin').min = today;
            
            // Add smooth scrolling to all links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // Add ripple effect to interactive buttons
            document.querySelectorAll('.interactive-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    const ripple = document.createElement('span');
                    const rect = this.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;
                    
                    ripple.style.width = ripple.style.height = size + 'px';
                    ripple.style.left = x + 'px';
                    ripple.style.top = y + 'px';
                    ripple.classList.add('ripple');
                    
                    this.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            });
        });

        // Add CSS for ripple effect
        const style = document.createElement('style');
        style.textContent = `
            .ripple {
                position: absolute;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.3);
                transform: scale(0);
                animation: ripple 0.6s linear;
                pointer-events: none;
            }
            
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

    </script>